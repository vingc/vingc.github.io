---
title: Differences between C and C++
date: 2017-07-11 10:02:05
tags: technology C C++
---

***



C和C++最大的区别显然是C++增加了OOP和泛型的特性，这一部分知识是相对完整和独立的，不在本文里涉及。本文的目的是记录C和C++在语法上的细微差异，作为以后查阅和复习的资料。

***



1. 源文件命名的差异，C的源文件是“.c”结尾，头文件是“.h”结尾；C++的源文件是“.cpp"、”.cc“、”.cxx“等，而头文件没有扩展名，但支持C式头文件和转换后的C头文件，如”math.h“和”cmath“。

2. 编译器的差异，C使用gcc编译，C++使用g++编译，两个命令的编译选项大部分相同，编译过程相同。

3. 注释的差异，C99之后的版本没有差异，因为添加了对C++注释符号”//“的支持

4. main函数的差异，如果main要求返回int型时，C++可以在最后一行省略”return“语句，编译器默认为”return 0;“；C不允许省略。

5. 命名空间，C++增加了命名空间的特性，”using namespace std;“ 或”std::cout“或”using std::cout;“；”using“语句放到源文件的头部，函数定义之前，对可以本文件的所有函数生效，如果放在函数定义的头部，只会对本函数生效。

6. 输入和输出，C++使用”cout“和”cin“对象完成输出和输入操作。如”cout<<"Hello World"<\<endl;“和”cin>>var;“；“<<”插入运算符，“>>”提取运算符。

7. 命名规则，没有差异，以单下划线或双下划线开头的名字预留给编译器使用。

8. sizeof语言内置运算符，没有差异，参数可以为变量名或者类型名；参数为类型名时必须使用括号，如“sizeof(int)”，“int a, sizeof a;”.

9. 变量初始化，C++新增了大括号“{}”初始化方式，如“int a{10};”、“int a={10};”、“int a{};”；如果大括号没有内容，默认初始化为0，变量和大括号之间的等号是可选的。

10. 基本类型，C++新增了“char16\_t”和“char32\_t”；C++提供了bool类型，C在C99标准里才新增bool类型，且需要使用头文件"stdbool.h"。

11. 强制类型转换，C只支持一种格式“(TypeName)value”，C++除了支持C的这种方式之后，还支持其他转换方式，如“TypeName(value)”、“static_cast\<Type>(value)”。

12. （未完待续）

    ​